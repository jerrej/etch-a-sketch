<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Odin Etch-a-Sketch</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://kit.fontawesome.com/c91d7ef7d0.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <header>
            <div class="header">
                <h1>Odin Etch-a-Sketch</h1>
            </div>
        </header>
        <main>
            <div class="content">
                <div class="settings">
                    <input id="color-input" type="color">
                    <button type="button"><i class="fa-solid fa-pencil"></i></button>
                    <button type="button"><i class="fa-solid fa-eraser"></i></button>
                    <button type="button"><i class="fa-solid fa-eye-dropper"></i></button>
                    <button type="button"><i class="fa-solid fa-fill-drip"></i></button>
                    <button type="button"><i class="fa-solid fa-trash-can"></i></button>
                    <button type="button"><i class="fa-solid fa-table-cells"></i></button>
                    <input type="range" id="gridsize" name="gridsize" min="1" max="64" value="16" step="1">
                    <label for="cowbell">16 x 16</label>
                </div>
                <div class="grid" id="grid">

                </div>
                <div class="settings" id="settings">

                </div>
            </div>
            <div class="content">
                <div class="settings">

                </div>
            </div>
        </main>
        <footer>
            <div class="footer">

            </div>
        </footer>
    </div>
</body>

</html>

<script>

    let gridContainer = document.getElementById('grid');
    let gridSettings = document.getElementById('settings');
    let gridArray = [];
    let mouseEvent = {};

    for (let x = 1; x < 17; x++) {

        let gridRow = document.createElement("div");
        gridRow.id = "gridrow-" + x;
        gridContainer.appendChild(gridRow);
        gridArray[x] = [];

        console.log("Row Creation. This for loop has executed " + x + " times")

        for (let y = 1; y < 17; y++) {

            let gridCell = document.createElement("div");
            gridCell.classList.add("cell");
            gridCell.id = "cell-" + x + "-" + y;
            gridRow.addEventListener("mouseover", draw);
            document.getElementById("gridrow-" + x).appendChild(gridCell);
            gridArray[x][y] = gridCell;

            console.log("Cell Creation. This for loop has executed " + y + " times");
            console.log(gridArray[x][y]);

        }

    }

    gridContainer.addEventListener("mousedown", () => mouseEvent.mouseDown = true)
    gridContainer.addEventListener("mouseup", () => delete mouseEvent.mouseDown)

    function canDraw() {
        return mouseEvent.mouseDown;
    }

    function draw(e) {

        if (canDraw()) {
            e.fromElement.classList.add('draw');
            e.preventDefault();
            console.log("Drawing");
        }

    }

    gridContainer.onmousedown = (e) => {
        isPainting = true;
        e.preventDefault();
    };

</script>